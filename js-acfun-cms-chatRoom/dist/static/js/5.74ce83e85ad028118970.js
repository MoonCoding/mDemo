webpackJsonp([5],{288:function(t,e,a){"use strict";function s(t){a(350)}Object.defineProperty(e,"__esModule",{value:!0});var n=a(316),i=a(366),o=a(9),c=s,r=o(n.a,i.a,c,"data-v-597419ed",null);e.default=r.exports},303:function(t,e,a){"use strict";e.a={props:{isShow:{type:Boolean,default:!1},title:{type:String,default:"提示"}},data:function(){return{shFlag:this.isShow}},methods:{pclose:function(t){this.shFlag=!1},cancelFun:function(t){this.$emit("click-cancel",t)},sureFun:function(t){this.$emit("click-sure",t)}},watch:{isShow:function(t){this.shFlag=t},shFlag:function(t){this.$emit("get-prompt-status",t)}}}},305:function(t,e,a){e=t.exports=a(282)(!0),e.push([t.i,".el-message-box__wrapper[data-v-5d494dd4]{z-index:2015}","",{version:3,sources:["/Users/User/Documents/H5Code/js-acfun-cms-chatRoom/src/components/page/msg-prompt.vue"],names:[],mappings:"AACA,0CACE,YAAc,CACf",file:"msg-prompt.vue",sourcesContent:["\n.el-message-box__wrapper[data-v-5d494dd4] {\n  z-index: 2015;\n}\n"],sourceRoot:""}])},307:function(t,e,a){var s=a(305);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(283)("68300af5",s,!0)},309:function(t,e,a){"use strict";function s(t){a(307)}var n=a(303),i=a(311),o=a(9),c=s,r=o(n.a,i.a,c,"data-v-5d494dd4",null);e.a=r.exports},311:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.shFlag?a("div",[a("div",{staticClass:"el-message-box__wrapper",staticStyle:{"z-index":"2086"},attrs:{tabindex:"-1"},on:{click:function(e){if(e.target!==e.currentTarget)return null;t.pclose(e)}}},[a("div",{staticClass:"el-message-box"},[a("div",{staticClass:"el-message-box__header"},[a("div",{staticClass:"el-message-box__title"},[t._v(t._s(t.title))]),t._v(" "),a("button",{staticClass:"el-message-box__headerbtn",attrs:{type:"button","aria-label":"Close"},on:{click:t.pclose}},[a("i",{staticClass:"el-message-box__close el-icon-close"})])]),t._v(" "),a("div",{staticClass:"el-message-box__content"},[t._t("default")],2),t._v(" "),a("div",{staticClass:"el-message-box__btns"},[a("button",{staticClass:"el-button el-button--default",attrs:{type:"button"},on:{click:t.cancelFun}},[a("span",[t._v("取消")])]),t._v(" "),a("button",{staticClass:"el-button el-button--default el-button--primary",attrs:{type:"button"},on:{click:t.sureFun}},[a("span",[t._v("确定")])])])])]),t._v(" "),a("div",{staticClass:"v-modal",staticStyle:{"z-index":"2000"},on:{click:t.pclose}})]):t._e()},n=[],i={render:s,staticRenderFns:n};e.a=i},316:function(t,e,a){"use strict";var s=a(309),n=a(328);e.a={data:function(){return{isShow:!1,noticeInfo:"",pTitle:"添加管理员",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",beginTime:"",endTime:""},search:{uid:"",nickName:""},adminInfo:{uid:"",userName:"",nickName:""},beginTimeSelect:{disabledDate:function(t){return t.getTime()<Date.now()-864e5}},endTimeSelect:{},list:[{userId:"36",userName:"test1",nickName:"测试",email:"test1@acfun.cn",passwd:"404f3d17d28fa205043097ee8ec756b3",mobile:"18611111111",departmentId:"18",departmentName:"测试",state:1,createrId:"12344444",createTime:1504495193278,updaterId:"12344444",updateTime:1504495193278}],currentPage:1,visible2:!1,pagesize:10,total:0,isExistUsername:!1}},mounted:function(){this.getList()},methods:{getList:function(t){var e=this;a.i(n.a)(t).then(function(t){e.list=t.data.list,e.total=t.data.totalCount})},reset:function(){this.search.uid="",this.search.nickName="",this.getList()},getPromptStatus:function(t){this.isShow=t},getName:function(){var t=this;this.adminInfo.nickName="",this.adminInfo.uid.length>0&&a.i(n.b)(this.adminInfo.uid).then(function(e){t.adminInfo.nickName=e.data.userName,t.noticeInfo="",t.isExistUsername=!0}).catch(function(e){t.noticeInfo="该用户不存在，请重新输入"})},sureFun:function(t){var e=this;if(!this.isExistUsername)return!1;this.$confirm("确定添加管理员吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.i(n.c)(e.adminInfo.uid).then(function(t){e.$message({message:"添加管理员成功",type:"success"}),e.getList()}).catch(function(t){e.$notify.error({title:"错误",message:"添加失败"})})}).catch(function(){e.$message({type:"info",message:"已取消添加"})}),this.isShow=!1},onSubmit:function(){var t={userId:this.search.uid,userName:this.search.nickName};this.getList(t)},handleSizeChange:function(t){var e={size:t};this.getList(e)},handleCurrentChange:function(t){var e=this,s={num:t};a.i(n.a)(s).then(function(t){e.list=t.data.list}).catch(function(t){e.$notify.error({title:"错误",message:"查询失败或者数据量不够"})})},removeAdmin:function(t){var e=this,s=this.list[t].id;this.$confirm("此操作将永久删除该管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.i(n.d)(s).then(function(t){e.$message({type:"success",message:"删除成功!"}),e.getList()}).catch(function(){e.$message({type:"info",message:"删除失败"})})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}},components:{"msg-prompt":s.a}}},328:function(t,e,a){"use strict";function s(t){return a.i(c.a)({url:"room/setAdmin/"+t,method:"POST"})}function n(t){return a.i(c.a)({url:"room/removeAdmin/"+t,method:"POST"})}function i(t){return a.i(c.a)({url:"room/getAdminPages",method:"get",params:t})}function o(t){return a.i(c.a)({url:"room/getUserName/"+t,method:"get"})}e.c=s,e.d=n,e.a=i,e.b=o;var c=a(105)},337:function(t,e,a){e=t.exports=a(282)(!0),e.push([t.i,".add-chat[data-v-597419ed]{margin-bottom:20px}.pagination[data-v-597419ed]{width:100%;text-align:center;margin:20px 0}.notice[data-v-597419ed]{border:none;color:red}","",{version:3,sources:["/Users/User/Documents/H5Code/js-acfun-cms-chatRoom/src/views/page/admin.vue"],names:[],mappings:"AACA,2BACE,kBAAoB,CACrB,AACD,6BACE,WAAY,AACZ,kBAAmB,AACnB,aAAe,CAChB,AACD,yBACE,YAAa,AACb,SAAW,CACZ",file:"admin.vue",sourcesContent:["\n.add-chat[data-v-597419ed] {\n  margin-bottom: 20px;\n}\n.pagination[data-v-597419ed] {\n  width: 100%;\n  text-align: center;\n  margin: 20px 0;\n}\n.notice[data-v-597419ed] {\n  border: none;\n  color: red;\n}\n"],sourceRoot:""}])},350:function(t,e,a){var s=a(337);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(283)("96b9f758",s,!0)},366:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-button",{staticClass:"add-chat",attrs:{type:"primary"},on:{click:function(e){t.isShow=!0}}},[t._v("添加管理员")]),t._v(" "),a("el-form",{ref:"form",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.form}},[a("el-form-item",{attrs:{label:"UID"}},[a("el-input",{model:{value:t.search.uid,callback:function(e){t.search.uid=e},expression:"search.uid"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"管理员昵称"}},[a("el-input",{model:{value:t.search.nickName,callback:function(e){t.search.nickName=e},expression:"search.nickName"}})],1),t._v(" "),a("el-form-item",{staticClass:"account-search"},[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.reset}},[t._v("清除条件")])],1)],1),t._v(" "),a("el-table",{staticClass:"account-table",staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"id",label:"序号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userId",label:"UID"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"管理员昵称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){t.removeAdmin(e.$index)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[20,30,50,100],"page-size":t.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),a("msg-prompt",{attrs:{isShow:t.isShow,title:t.pTitle},on:{"get-prompt-status":t.getPromptStatus,"click-cancel":function(e){t.isShow=!1},"click-sure":t.sureFun}},[a("div",{staticClass:"el-message-box__status"}),t._v(" "),a("div",{staticClass:"el-message-box__message",staticStyle:{"margin-left":"0px"}},[a("p",[t._v("猴子id")])]),t._v(" "),a("div",{staticClass:"el-message-box__input"},[a("div",{staticClass:"el-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminInfo.uid,expression:"adminInfo.uid"}],staticClass:"el-input__inner",attrs:{autocomplete:"off",placeholder:"",type:"text",rows:"2",validateevent:"true",onkeyup:"this.value=this.value.replace(/\\D/g,'')"},domProps:{value:t.adminInfo.uid},on:{blur:t.getName,input:function(e){e.target.composing||(t.adminInfo.uid=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"el-message-box__errormsg",staticStyle:{visibility:"hidden"}})]),t._v(" "),a("div",{staticClass:"el-message-box__message",staticStyle:{"margin-left":"0px"}},[a("p",[t._v("猴子昵称")])]),t._v(" "),a("div",{staticClass:"el-message-box__input"},[a("div",{staticClass:"el-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.adminInfo.nickName,expression:"adminInfo.nickName"}],staticClass:"el-input__inner",attrs:{autocomplete:"off",placeholder:"",type:"text",disabled:!0,rows:"2",validateevent:"true"},domProps:{value:t.adminInfo.nickName},on:{input:function(e){e.target.composing||(t.adminInfo.nickName=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"el-message-box__errormsg",staticStyle:{visibility:"hidden"}})]),t._v(" "),a("div",{staticClass:"el-message-box__message",staticStyle:{"margin-left":"0px"}},[a("p")]),t._v(" "),a("div",{staticClass:"el-message-box__input"},[a("div",{staticClass:"el-input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.noticeInfo,expression:"noticeInfo"}],staticClass:"el-input__inner notice",attrs:{autocomplete:"off",placeholder:"",type:"text",disabled:!0,rows:"2",validateevent:"true"},domProps:{value:t.noticeInfo},on:{input:function(e){e.target.composing||(t.noticeInfo=e.target.value)}}})]),t._v(" "),a("div",{staticClass:"el-message-box__errormsg",staticStyle:{visibility:"hidden"}})])])],1)},n=[],i={render:s,staticRenderFns:n};e.a=i}});
//# sourceMappingURL=5.74ce83e85ad028118970.js.map